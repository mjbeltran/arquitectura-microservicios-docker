#!/bin/sh

#
# Script permettant de construire les images docker pour SOPRANO
#

# plante le script d's le premier retour en erreur
set -e

# gestion des patterns **/*.sh
shopt -s globstar

echo " --> Construction des images Docker ..."

echo " ----> Correction du mode d'ex'cution des scripts shell"

chmod +x **/*.sh

docker-compose -f app-docker-compose.yml build --no-cache --force-rm --pull \
 	&& docker-compose -f app-docker-compose.yml push


echo " --> Images Docker construites avec succÃ¨s"
